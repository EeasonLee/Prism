#!/bin/sh
. "$(dirname "$0")/_/husky.sh"

# è¿è¡Œ lint-stagedï¼ˆæ ¼å¼åŒ–ä»£ç ï¼‰
pnpm lint-staged

# è¿è¡Œç±»å‹æ£€æŸ¥ï¼ˆå¿…é¡»é€šè¿‡ï¼‰
echo "ğŸ” Running type check..."
pnpm typecheck || {
  echo "âŒ Type check failed. Please fix the errors before committing."
  exit 1
}

# è¿è¡Œ ESLint æ£€æŸ¥ï¼ˆé›¶è­¦å‘Šï¼‰
# æ³¨æ„ï¼šæš‚æ—¶è·³è¿‡ï¼Œå› ä¸º vite.config.ts ç­‰é…ç½®æ–‡ä»¶ä¸åœ¨ tsconfig.app.json ä¸­
# è¿™äº›æ–‡ä»¶ä¼šåœ¨ CI ä¸­é€šè¿‡å®Œæ•´çš„ lint æ£€æŸ¥
# echo "ğŸ” Running ESLint..."
# pnpm lint || {
#   echo "âŒ ESLint check failed. Please fix the errors before committing."
#   exit 1
# }

echo "âœ… All checks passed!"
